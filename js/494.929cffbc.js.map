{"version":3,"file":"js/494.929cffbc.js","mappings":"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","sources":["webpack://week8/./src/views/ProductsView.vue","webpack://week8/./src/components/PaginationModal.vue","webpack://week8/./src/components/PaginationModal.vue?5bca","webpack://week8/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\r\n<div class=\"d-flex\">\r\n            <a href=\"#\"><i class=\"fas fa-heart me-5\"></i></a>\r\n            <a href=\"./cart-2.html\"><i class=\"fas fa-shopping-cart\"></i></a>\r\n          </div>\r\n    <nav class=\"navbar navbar-expand-lg navbar-light justify-content-center border border-start-0 border-end-0 border-top border-bottom\">\r\n      <div class=\"navbar-nav flex-row overflow-auto navbar-custom-scroll\">\r\n        <router-link to=\"products\" class=\"nav-item nav-link text-nowrap px-2\" @click=\"getProducts(1, '')\">全部商品</router-link>\r\n        <router-link to=\"products\" class=\"nav-item nav-link text-nowrap px-2\" @click=\"getProducts(1, '韓式香氛蠟燭')\">香氛蠟燭</router-link>\r\n        <!--router-link to=\"products\" class=\"nav-item nav-link text-nowrap px-2\" @click=\"getProducts(1, '客製商品')\">客製商品</router-link-->\r\n        <router-link to=\"products\" class=\"nav-item nav-link text-nowrap px-2\" @click=\"getProducts(1, '教學課程')\">教學課程</router-link>\r\n        <router-link to=\"products\" class=\"nav-item nav-link text-nowrap px-2\" @click=\"getProducts(1, '香氛小物')\">香氛小物</router-link>\r\n        \r\n      </div>\r\n    </nav>\r\n    <div class=\"container mt-md-5 mt-3 mb-7\">\r\n      <div class=\"row row-cols-1 row-cols-md-3 row-cols-lg-5 gy-4\">\r\n        <div class=\"col\" v-for=\"product in products\" :key=\"product.id\">\r\n          <div class=\"card border-1 mb-4 position-relative position-relative  h-100\" style=\"padding:0.5rem\">\r\n            <!--img :src=\"product.imageUrl\"\r\n             class=\"card-img-top rounded-0\"\r\n             alt=\"...\"\r\n             /-->\r\n            <div :style=\"{backgroundImage:`url(${product.imageUrl})`}\"\r\n            style=\"height: 320px; background-size: cover; background-position: center center\"></div>\r\n            <a href=\"#\" class=\"text-dark\">\r\n              <i class=\"far fa-heart position-absolute\" style=\"right: 16px; top: 16px\"></i>\r\n            </a>\r\n            <div class=\"card-body p-0\">\r\n              <h4 class=\"mb-0 mt-3\">\r\n                  {{ product.title }}</h4>\r\n              <p class=\"card-text text-muted mb-0\" style=\"height: 4.5 rem; overflow:hidden;\">{{ product.description }}</p>\r\n              <del class=\"text-muted mt-3\" v-if=\"product.price\">原價 {{ product.origin_price }} 元</del>\r\n              <span class=\"text-muted mt-3\">／特價 {{ product.price }}元</span>\r\n            </div>\r\n            <div class=\"btn-group btn-group-sm\">\r\n                    <button type=\"button\" class=\"btn btn-outline-secondary\">\r\n                      <router-link :to=\"`/product/${product.id}`\">查看更多</router-link>\r\n                    </button>\r\n                    <button\r\n                type=\"button\"\r\n                class=\"btn btn-danger\"\r\n                @click=\"addToCart(product.id)\"\r\n                :disabled=\"isLoadingItem === product.id\"\r\n              >\r\n                <span\r\n                  class=\"spinner-grow spinner-grow-sm\"\r\n                  v-show=\"isLoadingItem === product.id\"></span>\r\n                加到購物車\r\n              </button>\r\n                  </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n       <Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\r\n    </div>\r\n</template>\r\n<script>\r\nimport emitter from '@/utils/emitter'\r\nimport Pagination from '@/components/PaginationModal.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      pagination: {},\r\n      currentPage: 1,\r\n      tempProduct: {},\r\n      products: [],\r\n      isLoadingItem: '',\r\n    }\r\n  },\r\n  inject: ['emitter'],\r\n  components: {\r\n    Pagination\r\n  },\r\n  methods: {\r\n    getProducts (page = 1, category=\"\") {\r\n      this.currentPage = page\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products?page=${page}&category=${category}`\r\n      this.$http.get(url).then((res) => {\r\n      // console.log(res)\r\n        this.products = res.data.products\r\n        this.pagination = res.data.pagination;\r\n      })\r\n    },\r\n    // 加入購物車\r\n    addToCart (id, qty = 1) {\r\n      const data = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.isLoadingItem = id\r\n      this.$http.post(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`,\r\n        {data}).then((res) => {\r\n        console.log(res)\r\n        this.getCart()\r\n        this.isLoadingItem = ''\r\n        emitter.emit('get-cart')\r\n      })\r\n    },\r\n    //取得商品資訊，開啟modal\r\n    getProduct (id) {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/product/${id}`\r\n      this.loadingStatus.loadingItem = id\r\n      this.$http.get(url).then((response) => {\r\n        this.loadingStatus.loadingItem = ''\r\n        this.product = response.data.product\r\n      }).catch((err) => {\r\n        alert(err.data.message)\r\n      })\r\n    },\r\n    //取得購物車清單\r\n    getCart () {\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(url).then((response) => {\r\n        this.cart = response.data.data\r\n      }).catch((err) => {\r\n        alert(err.data.message)\r\n      })\r\n    },\r\n\r\n  },\r\n  mounted () {\r\n    this.getProducts()\r\n    this.getCart()\r\n    \r\n  }\r\n}\r\n</script>\r\n","<template>\r\n  <nav aria-label=\"Page navigation\">\r\n    <ul class=\"pagination justify-content-center\" style=\"padding-top:1rem;\">\r\n      <li :class=\"{ disabled: !pages.has_pre }\" class=\"page-item\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Previous\"\r\n          @click.prevent=\"updatePage(pages.current_page - 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&laquo;</span>\r\n        </a>\r\n      </li>\r\n      <li\r\n        class=\"page-item\"\r\n        v-for=\"page in pages.total_pages\"\r\n        :key=\"page\"\r\n        :class=\"{ active: pages.current_page === page }\"\r\n      >\r\n        <span class=\"page-link\" v-if=\"page === pages.current_page\">{{\r\n          page\r\n        }}</span>\r\n        <a\r\n          class=\"page-link\"\r\n          v-else\r\n          href=\"#\"\r\n          @click.prevent=\"updatePage(page)\"\r\n          >{{ page }}</a\r\n        >\r\n      </li>\r\n      <li class=\"page-item\" :class=\"{ disabled: !pages.has_next }\">\r\n        <a\r\n          class=\"page-link\"\r\n          href=\"#\"\r\n          aria-label=\"Next\"\r\n          @click.prevent=\"updatePage(pages.current_page + 1)\"\r\n        >\r\n          <span aria-hidden=\"true\">&raquo;</span>\r\n        </a>\r\n      </li>\r\n    </ul>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\n// :pages=\"{ 頁碼資訊 }\"\r\n// @emitPages=\"更新頁面事件\"\r\nexport default {\r\n  props: ['pages'],\r\n  methods: {\r\n    updatePage(page) {\r\n      this.$emit('emitPages', page);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./PaginationModal.vue?vue&type=template&id=8581e052\"\nimport script from \"./PaginationModal.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\SC\\\\Desktop\\\\project-week8\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=29f43116\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\SC\\\\Desktop\\\\project-week8\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","href","type","_hoisted_1","_createVNode","_component_router_link","to","onClick","$options","_createElementBlock","_Fragment","_renderList","$data","product","key","id","backgroundImage","imageUrl","_hoisted_11","_toDisplayString","title","description","price","origin_price","disabled","_component_Pagination","pages","onEmitPages","_hoisted_3","_hoisted_7","$props","has_pre","current_page","total_pages","page","active","_hoisted_6","has_next","props","methods","updatePage","this","$emit","__exports__","data","pagination","currentPage","tempProduct","products","isLoadingItem","inject","components","Pagination","getProducts","category","url","$http","get","then","res","addToCart","qty","product_id","post","console","log","getCart","emitter","getProduct","loadingStatus","loadingItem","response","catch","err","alert","message","cart","mounted","render"],"sourceRoot":""}