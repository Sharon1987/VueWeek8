"use strict";(self["webpackChunkweek8"]=self["webpackChunkweek8"]||[]).push([[942],{4942:function(t,e,l){l.r(e),l.d(e,{default:function(){return Y}});var r=l(3396),s=l(7139);const d={class:"container"},a={class:"row row-cols-1"},n={class:"col"},i=(0,r._)("h4",{class:"fw-bold"},"訂購商品",-1),u={class:"table"},o=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{style:{width:"100px"}},"品項"),(0,r._)("th",{style:{width:"180px"}}),(0,r._)("th",{style:{width:"70px"}},"數量"),(0,r._)("th",{class:"text-end",style:{width:"100px"}},"金額")])],-1),c={class:"align-middle"},_={class:"align-middle"},h={class:"ps-3 align-middle text-end"},p={colspan:"4",class:"text-end"},w={class:"text-danger"},g={class:"col"},y={class:"fw-bold"},m=(0,r.Uk)("訂單資訊"),b={class:"fs-7 text-success"},k={class:"table"},x=(0,r._)("thead",null,[(0,r._)("tr",null,[(0,r._)("th",{style:{width:"150px"}}),(0,r._)("th")])],-1),z=(0,r._)("td",{class:"align-middle"},"訂單金額",-1),f={class:"text-danger align-middle"},v=(0,r._)("td",null,"訂單編號",-1),D=(0,r._)("td",null,"訂單日期",-1),$=(0,r._)("td",null,"email",-1),O=(0,r._)("td",null,"收件人姓名",-1),C=(0,r._)("td",null,"收件人電話",-1),q=(0,r._)("td",null,"收件地址",-1),U=(0,r._)("td",null,"備註",-1),j={key:0,class:"col"},H={key:1,class:"col"};function I(t,e,l,I,K,L){return(0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("div",a,[(0,r._)("div",n,[i,(0,r._)("table",u,[o,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(K.products,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",null,[(0,r._)("div",{style:(0,s.j5)([{height:"100px",width:"100px","background-size":"cover","background-position":"center center"},{backgroundImage:`url(${e.product.imageUrl})`}])},null,4)]),(0,r._)("td",c,(0,s.zw)(e.product.title),1),(0,r._)("td",_,(0,s.zw)(e.qty),1),(0,r._)("td",h,(0,s.zw)(t.$filters.currency(e.product.price))+" 元 ",1)])))),128))]),(0,r._)("tfoot",null,[(0,r._)("tr",null,[(0,r._)("td",p,[(0,r._)("h5",w,"總金額 "+(0,s.zw)(t.$filters.currency(K.order.total))+" 元",1)])])])])]),(0,r._)("div",g,[(0,r._)("h4",y,[m,(0,r._)("span",b,"（"+(0,s.zw)(K.order.is_paid?"已付款":"未付款")+"）",1)]),(0,r._)("table",k,[x,(0,r._)("tbody",null,[(0,r._)("tr",null,[z,(0,r._)("td",null,[(0,r._)("h5",f,(0,s.zw)(t.$filters.currency(K.order.total))+" 元 ",1)])]),(0,r._)("tr",null,[v,(0,r._)("td",null,(0,s.zw)(K.order.id),1)]),(0,r._)("tr",null,[D,(0,r._)("td",null,(0,s.zw)(L.getDate(K.order.create_at)),1)]),(0,r._)("tr",null,[$,(0,r._)("td",null,(0,s.zw)(K.user.email),1)]),(0,r._)("tr",null,[O,(0,r._)("td",null,(0,s.zw)(K.user.name),1)]),(0,r._)("tr",null,[C,(0,r._)("td",null,(0,s.zw)(K.user.tel),1)]),(0,r._)("tr",null,[q,(0,r._)("td",null,(0,s.zw)(K.user.address),1)]),(0,r._)("tr",null,[U,(0,r._)("td",null,[K.order.message?((0,r.wg)(),(0,r.iD)("p",j,(0,s.zw)(K.order.message),1)):((0,r.wg)(),(0,r.iD)("p",H,"無"))])])])]),K.order.is_paid?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("button",{key:0,type:"submit",class:"btn btn-danger w-100",onClick:e[0]||(e[0]=(...t)=>L.payOrder&&L.payOrder(...t))},"信用卡付款"))])])])}var K={data(){return{order:{},user:{},products:{},is_paid:!1}},watch:{is_paid(){this.is_paid=this.order.is_paid}},methods:{getOrder(){const{id:t}=this.$route.params,e=`https://vue3-course-api.hexschool.io/v2/api/sharon1987/order/${t}`;this.$http.get(e).then((t=>{this.order=t.data.order,this.user=t.data.order.user,this.products=t.data.order.products}))},getDate(t){const e=new Date(1e3*t);return e.toLocaleDateString()},payOrder(){const{id:t}=this.$route.params,e=`https://vue3-course-api.hexschool.io/v2/api/sharon1987/pay/${t}`;this.$http.post(e).then((t=>{alert(t.data.message),this.getOrder()}))}},mounted(){this.getOrder()}},L=l(89);const S=(0,L.Z)(K,[["render",I]]);var Y=S}}]);
//# sourceMappingURL=942.210ff0f1.js.map