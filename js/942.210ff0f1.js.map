{"version":3,"file":"js/942.210ff0f1.js","mappings":"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","sources":["webpack://week8/./src/views/CheckOut.vue","webpack://week8/./src/views/CheckOut.vue?a994"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"row row-cols-1\">\r\n      <div class=\"col\">\r\n        <h4 class=\"fw-bold\">訂購商品</h4>\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th style=\"width:100px\">品項</th>\r\n              <th style=\"width:180px\"></th>\r\n              <th style=\"width:70px\">數量</th>\r\n              <th class=\"text-end\" style=\"width: 100px\">金額</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr v-for=\"product in products\" :key=\"product.id\">\r\n              <td>\r\n                <div style=\"height: 100px; width:100px; background-size: cover; background-position: center center; \"\r\n                  :style=\"{ backgroundImage: `url(${product.product.imageUrl})` }\">\r\n                </div>\r\n              </td>\r\n              <td class=\"align-middle\">\r\n                {{ product.product.title }}</td>\r\n                <td class=\"align-middle\">\r\n                {{ product.qty }}\r\n              </td>\r\n              <td class=\"ps-3 align-middle text-end\">\r\n                {{ $filters.currency(product.product.price) }} 元\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n          <tfoot>\r\n              <tr>\r\n                  <td colspan=\"4\" class=\"text-end\"><h5 class=\"text-danger\">總金額 {{$filters.currency(order.total)}} 元</h5> </td>\r\n              </tr>\r\n          </tfoot>\r\n        </table>\r\n      </div>\r\n      <div class=\"col\">\r\n          <h4 class=\"fw-bold\">訂單資訊<span class=\"fs-7 text-success\">（{{order.is_paid ? '已付款':'未付款'}}）</span></h4>\r\n        <table class=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th style=\"width: 150px\"></th>\r\n              <th></th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr>\r\n              <td class=\"align-middle\">訂單金額</td>\r\n              <td>\r\n                <h5 class=\"text-danger align-middle\">\r\n                  {{ $filters.currency(order.total) }} 元\r\n                </h5>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>訂單編號</td>\r\n              <td>{{ order.id }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>訂單日期</td>\r\n              <td>{{ getDate(order.create_at) }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>email</td>\r\n              <td>{{ user.email }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>收件人姓名</td>\r\n              <td>{{ user.name }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>收件人電話</td>\r\n              <td>{{ user.tel }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>收件地址</td>\r\n              <td>{{ user.address }}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>備註</td>\r\n              <td>\r\n                <p class=\"col\" v-if=\"order.message\">{{ order.message }}</p>\r\n                <p class=\"col\" v-else>無</p>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n        <button type=\"submit\" class=\"btn btn-danger  w-100\"\r\n          v-if=\"!order.is_paid\" @click=\"payOrder\">信用卡付款</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      order: {},\r\n      user: {},\r\n      products: {},\r\n      is_paid: false\r\n    }\r\n  },\r\n  //監聽是否已付款\r\n  watch: {\r\n    is_paid () {\r\n      this.is_paid = this.order.is_paid\r\n    }\r\n  },\r\n  methods: {\r\n  //取得訂單    \r\n    getOrder () {\r\n      const {id} = this.$route.params\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${id}`\r\n      this.$http.get(url).then((res) => {\r\n        this.order = res.data.order\r\n        this.user = res.data.order.user\r\n        this.products = res.data.order.products\r\n      })\r\n    },\r\n  //取得訂單日期\r\n    getDate (timestamp) {\r\n      const date = new Date(timestamp * 1000)\r\n      return date.toLocaleDateString()\r\n    },\r\n  // 付款\r\n    payOrder () {\r\n      const { id } = this.$route.params\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${id}`\r\n      this.$http.post(url)\r\n        .then(res => {\r\n          alert(res.data.message)\r\n          this.getOrder()\r\n        })\r\n    },\r\n  },\r\n  mounted () {\r\n    this.getOrder()\r\n  }\r\n}\r\n</script>","import { render } from \"./CheckOut.vue?vue&type=template&id=f27dc722\"\nimport script from \"./CheckOut.vue?vue&type=script&lang=js\"\nexport * from \"./CheckOut.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\SC\\\\Desktop\\\\project-week8\\\\week8\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","style","colspan","_createElementBlock","_hoisted_4","_hoisted_6","_Fragment","_renderList","$data","product","key","id","backgroundImage","imageUrl","_toDisplayString","title","qty","_ctx","currency","price","total","is_paid","_hoisted_17","_hoisted_18","_hoisted_20","_hoisted_21","$options","create_at","_hoisted_22","email","_hoisted_23","name","_hoisted_24","tel","_hoisted_25","address","_hoisted_26","message","type","onClick","data","order","user","products","watch","this","methods","getOrder","$route","params","url","$http","get","then","res","getDate","timestamp","date","Date","toLocaleDateString","payOrder","post","alert","mounted","__exports__","render"],"sourceRoot":""}